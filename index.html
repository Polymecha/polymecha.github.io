<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Model Showcase</title>
    <script src="https://cdn.babylonjs.com/babylon.js"></script>
    <style>
        /* Add your custom styles here */
    </style>
</head>
<body>
    <script>
        class Model3D extends HTMLElement {
            constructor() {
                super();
                const shadowRoot = this.attachShadow({mode: 'open'});
                const canvas = document.createElement('canvas');
                canvas.style.width = '100%';
                canvas.style.height = '100%';
                shadowRoot.appendChild(canvas);

                // Load BabylonJS scripts
                const bjs = document.createElement('script');
                bjs.src = 'https://cdn.babylonjs.com/babylon.js';
                bjs.async = false;
                document.head.appendChild(bjs);

                bjs.onload = () => {
                    const engine = new BABYLON.Engine(canvas, true);

                    const createScene = () => {
                        const scene = new BABYLON.Scene(engine);

                        // Add lights and camera
                        const light = new BABYLON.HemisphericLight("light", new BABYLON.Vector3(0, 1, 0));
                        const camera = new BABYLON.ArcRotateCamera("camera", -Math.PI / 2, Math.PI / 4, 10, BABYLON.Vector3.Zero(), scene);
                        camera.attachControl(canvas, true);

                        // Load the 3D model
                        const loader = new BABYLON.AssetsManager(scene);
                        const modelTask = loader.addMeshTask('model task', '', 'models/3Dmodel.glb');
                        modelTask.onSuccess = (task) => {
                            task.loadedMeshes.forEach(mesh => {
                                mesh.position = BABYLON.Vector3.Zero();
                            });
                        };
                        loader.load();

                        return scene;
                    };

                    const scene = createScene();

                    engine.runRenderLoop(() => {
                        scene.render();
                    });

                    window.addEventListener('resize', () => {
                        engine.resize();
                    });
                };
            }
        }

        customElements.define('model-3d', Model3D);
    </script>

    <model-3d style="width: 600px; height: 400px;"></model-3d>
</body>
</html>
